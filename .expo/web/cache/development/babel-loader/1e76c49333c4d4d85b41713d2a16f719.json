{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\sites\\\\fo-github\\\\app\\\\layout\\\\page.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Header from \"./header\";\nimport Media from \"./media\";\nimport Cog from \"./cog\";\nimport TabBar from \"./tabbar\";\nimport foData from \"../content/data.json\";\nimport constants from \"../utilities/constants.json\";\n\nvar HomePage = function (_Component) {\n  _inherits(HomePage, _Component);\n\n  var _super = _createSuper(HomePage);\n\n  function HomePage() {\n    _classCallCheck(this, HomePage);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(HomePage, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      this.menu = 0, this.book = 0, this.section = 0, this.article = -1;\n      this.home = true;\n\n      if (this.props.navigation) {\n        var headerTItle = constants.appTitle;\n        var headerMedia = \"\";\n\n        if (this.props.route.params && typeof this.props.route.params.book !== \"undefined\") {\n          var book = foData.find(function (item) {\n            return item.id == _this.props.route.params.book;\n          });\n          headerTItle = book.title;\n          headerMedia = book.media;\n\n          if (this.props.route.params.article >= 0 && this.props.route.params.section >= 0) {\n            if (headerMedia === \"undefined\" || headerMedia === \"\") {\n              if (book.sections.find(function (item) {\n                return item.id == _this.props.route.params.section;\n              }) !== \"undefined\") {\n                var article = book.sections.find(function (item) {\n                  return item.id == _this.props.route.params.section;\n                }).list.find(function (item) {\n                  return item.id == _this.props.route.params.article;\n                });\n\n                if (article && article.media && article.media !== \"\") {\n                  if (article.media != headerMedia) headerMedia = article.media;\n                }\n              }\n            }\n          }\n\n          this.menu = this.props.route.params.menu;\n          this.book = this.props.route.params.book;\n          this.section = this.props.route.params.section;\n          this.article = this.props.route.params.article;\n          this.home = false;\n        }\n\n        if (this.home) {\n          this.props.navigation.setOptions({\n            headerBackTitle: \"\",\n            headerTitle: function headerTitle(props) {\n              return React.createElement(Header, _extends({}, props, {\n                title: headerTItle,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 52,\n                  columnNumber: 35\n                }\n              }));\n            },\n            headerRight: function headerRight(props) {\n              return React.createElement(Cog, _extends({}, props, {\n                navigation: _this.props.navigation,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 13\n                }\n              }));\n            }\n          });\n        } else {\n          this.props.navigation.setOptions({\n            headerBackTitle: \"\",\n            headerTitle: function headerTitle(props) {\n              return React.createElement(Header, _extends({}, props, {\n                title: headerTItle,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 35\n                }\n              }));\n            },\n            headerRight: function headerRight(props) {\n              return React.createElement(Media, _extends({}, props, {\n                media: headerMedia,\n                menu: _this.menu,\n                book: _this.book,\n                title: headerTItle,\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 13\n                }\n              }));\n            }\n          });\n        }\n      }\n\n      if (this.props.route.params) {\n        if (typeof this.props.route.params.menu !== \"undefined\" && typeof this.props.route.params.book !== \"undefined\" && typeof this.props.route.params.section !== \"undefined\" && typeof this.props.route.params.article !== \"undefined\") {\n          this.menu = this.props.route.params.menu;\n          this.book = this.props.route.params.book;\n          this.section = this.props.route.params.section;\n          this.article = this.props.route.params.article;\n        }\n      }\n\n      return React.createElement(TabBar, {\n        navigation: this.props.navigation,\n        menu: this.menu,\n        book: this.book,\n        section: this.section,\n        article: this.article,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nexport { HomePage as default };","map":{"version":3,"sources":["C:/sites/fo-github/app/layout/page.js"],"names":["React","Component","Header","Media","Cog","TabBar","foData","constants","HomePage","menu","book","section","article","home","props","navigation","headerTItle","appTitle","headerMedia","route","params","find","item","id","title","media","sections","list","setOptions","headerBackTitle","headerTitle","headerRight"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP;AACA,OAAOC,KAAP;AACA,OAAOC,GAAP;AACA,OAAOC,MAAP;AACA,OAAOC,MAAP;AACA,OAAOC,SAAP;;IAGqBC,Q;;;;;;;;;;;;;6BACV;AAAA;;AAEN,WAAKC,IAAL,GAAY,CAAb,EAAkB,KAAKC,IAAL,GAAY,CAA9B,EAAmC,KAAKC,OAAL,GAAe,CAAlD,EAAuD,KAAKC,OAAL,GAAe,CAAC,CAAvE;AACA,WAAKC,IAAL,GAAY,IAAZ;;AAEA,UAAI,KAAKC,KAAL,CAAWC,UAAf,EAA2B;AACzB,YAAIC,WAAW,GAAGT,SAAS,CAACU,QAA5B;AACA,YAAIC,WAAW,GAAG,EAAlB;;AAEA,YACE,KAAKJ,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,IACA,OAAO,KAAKN,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBV,IAA/B,KAAwC,WAF1C,EAGE;AACA,cAAMA,IAAI,GAAGJ,MAAM,CAACe,IAAP,CAAY,UAACC,IAAD;AAAA,mBAAUA,IAAI,CAACC,EAAL,IAAW,KAAI,CAACT,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBV,IAA7C;AAAA,WAAZ,CAAb;AAEAM,UAAAA,WAAW,GAAGN,IAAI,CAACc,KAAnB;AACAN,UAAAA,WAAW,GAAGR,IAAI,CAACe,KAAnB;;AACA,cAAI,KAAKX,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBR,OAAxB,IAAmC,CAAnC,IAAwC,KAAKE,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBT,OAAxB,IAAmC,CAA/E,EAAkF;AAEhF,gBAAIO,WAAW,KAAK,WAAhB,IAA+BA,WAAW,KAAK,EAAnD,EAAsD;AACpD,kBAAIR,IAAI,CAACgB,QAAL,CAAcL,IAAd,CAAmB,UAACC,IAAD;AAAA,uBAAUA,IAAI,CAACC,EAAL,IAAW,KAAI,CAACT,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBT,OAA7C;AAAA,eAAnB,MAA6E,WAAjF,EAA8F;AAC5F,oBAAMC,OAAO,GAAGF,IAAI,CAACgB,QAAL,CAAcL,IAAd,CAAmB,UAACC,IAAD;AAAA,yBAAUA,IAAI,CAACC,EAAL,IAAW,KAAI,CAACT,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBT,OAA7C;AAAA,iBAAnB,EAAyEgB,IAAzE,CAA8EN,IAA9E,CAAmF,UAACC,IAAD;AAAA,yBAAUA,IAAI,CAACC,EAAL,IAAW,KAAI,CAACT,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBR,OAA7C;AAAA,iBAAnF,CAAhB;;AACA,oBAAIA,OAAO,IAAIA,OAAO,CAACa,KAAnB,IAA4Bb,OAAO,CAACa,KAAR,KAAkB,EAAlD,EAAsD;AACpD,sBAAIb,OAAO,CAACa,KAAR,IAAiBP,WAArB,EACAA,WAAW,GAAGN,OAAO,CAACa,KAAtB;AACD;AACF;AACF;AACF;;AACD,eAAKhB,IAAL,GAAY,KAAKK,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBX,IAApC;AACA,eAAKC,IAAL,GAAY,KAAKI,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBV,IAApC;AACA,eAAKC,OAAL,GAAe,KAAKG,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBT,OAAvC;AACA,eAAKC,OAAL,GAAe,KAAKE,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBR,OAAvC;AACA,eAAKC,IAAL,GAAY,KAAZ;AACD;;AAGD,YAAI,KAAKA,IAAT,EAAe;AAEb,eAAKC,KAAL,CAAWC,UAAX,CAAsBa,UAAtB,CAAiC;AAC/BC,YAAAA,eAAe,EAAE,EADc;AAE/BC,YAAAA,WAAW,EAAE,qBAAChB,KAAD;AAAA,qBAAW,oBAAC,MAAD,eAAYA,KAAZ;AAAmB,gBAAA,KAAK,EAAEE,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAX;AAAA,aAFkB;AAG/Be,YAAAA,WAAW,EAAE,qBAACjB,KAAD;AAAA,qBACX,oBAAC,GAAD,eACMA,KADN;AAEE,gBAAA,UAAU,EAAE,KAAI,CAACA,KAAL,CAAWC,UAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADW;AAAA;AAHkB,WAAjC;AAUD,SAZD,MAYO;AAEL,eAAKD,KAAL,CAAWC,UAAX,CAAsBa,UAAtB,CAAiC;AAC/BC,YAAAA,eAAe,EAAE,EADc;AAE/BC,YAAAA,WAAW,EAAE,qBAAChB,KAAD;AAAA,qBAAW,oBAAC,MAAD,eAAYA,KAAZ;AAAmB,gBAAA,KAAK,EAAEE,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAX;AAAA,aAFkB;AAG/Be,YAAAA,WAAW,EAAE,qBAACjB,KAAD;AAAA,qBACX,oBAAC,KAAD,eACMA,KADN;AAEE,gBAAA,KAAK,EAAEI,WAFT;AAGE,gBAAA,IAAI,EAAE,KAAI,CAACT,IAHb;AAIE,gBAAA,IAAI,EAAE,KAAI,CAACC,IAJb;AAKE,gBAAA,KAAK,EAAEM,WALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADW;AAAA;AAHkB,WAAjC;AAaD;AACF;;AAED,UAAI,KAAKF,KAAL,CAAWK,KAAX,CAAiBC,MAArB,EAA6B;AAE3B,YACE,OAAO,KAAKN,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBX,IAA/B,KAAwC,WAAxC,IACA,OAAO,KAAKK,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBV,IAA/B,KAAwC,WADxC,IAEA,OAAO,KAAKI,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBT,OAA/B,KAA2C,WAF3C,IAGA,OAAO,KAAKG,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBR,OAA/B,KAA2C,WAJ7C,EAKE;AACA,eAAKH,IAAL,GAAY,KAAKK,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBX,IAApC;AACA,eAAKC,IAAL,GAAY,KAAKI,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBV,IAApC;AACA,eAAKC,OAAL,GAAe,KAAKG,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBT,OAAvC;AACA,eAAKC,OAAL,GAAe,KAAKE,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBR,OAAvC;AACD;AACF;;AACD,aACE,oBAAC,MAAD;AACE,QAAA,UAAU,EAAE,KAAKE,KAAL,CAAWC,UADzB;AAEE,QAAA,IAAI,EAAE,KAAKN,IAFb;AAGE,QAAA,IAAI,EAAE,KAAKC,IAHb;AAIE,QAAA,OAAO,EAAE,KAAKC,OAJhB;AAKE,QAAA,OAAO,EAAE,KAAKC,OALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AASD;;;;EA3FmCX,S;;SAAjBO,Q","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"./header\";\r\nimport Media from \"./media\";\r\nimport Cog from \"./cog\";\r\nimport TabBar from \"./tabbar\";\r\nimport foData from \"../content/data.json\";\r\nimport constants from \"../utilities/constants.json\";\r\n\r\n//console.log(DownloadFile(\"ab.mp3\"));\r\nexport default class HomePage extends Component {\r\n  render() {\r\n    //set default, article is an index number to a book > section > list index\r\n    (this.menu = 0), (this.book = 0), (this.section = 0), (this.article = -1); \r\n    this.home = true;\r\n    //set header\r\n    if (this.props.navigation) {\r\n      let headerTItle = constants.appTitle;\r\n      let headerMedia = \"\";\r\n      //get params\r\n      if (\r\n        this.props.route.params &&\r\n        typeof this.props.route.params.book !== \"undefined\"\r\n      ) {\r\n        const book = foData.find((item) => item.id == this.props.route.params.book);\r\n        //console.log(\"page: \" + this.props.route.params.book);\r\n        headerTItle = book.title;\r\n        headerMedia = book.media;\r\n        if (this.props.route.params.article >= 0 && this.props.route.params.section >= 0) {\r\n          //look for article specific media if there's any, make sure its book media is empty\r\n          if (headerMedia === \"undefined\" || headerMedia === \"\"){\r\n            if (book.sections.find((item) => item.id == this.props.route.params.section) !== \"undefined\") {\r\n              const article = book.sections.find((item) => item.id == this.props.route.params.section).list.find((item) => item.id == this.props.route.params.article);\r\n              if (article && article.media && article.media !== \"\") {\r\n                if (article.media != headerMedia)\r\n                headerMedia = article.media;\r\n              }\r\n            }\r\n          }\r\n        } \r\n        this.menu = this.props.route.params.menu;\r\n        this.book = this.props.route.params.book;\r\n        this.section = this.props.route.params.section;\r\n        this.article = this.props.route.params.article;\r\n        this.home = false;\r\n      } \r\n      \r\n      //setting header\r\n      if (this.home) {\r\n        //it's home page, display setting button\r\n        this.props.navigation.setOptions({\r\n          headerBackTitle: \"\",\r\n          headerTitle: (props) => <Header {...props} title={headerTItle} />,\r\n          headerRight: (props) => (\r\n            <Cog \r\n              {...props}              \r\n              navigation={this.props.navigation}\r\n            />\r\n          ),\r\n        });        \r\n      } else {\r\n        //display book download/media button\r\n        this.props.navigation.setOptions({\r\n          headerBackTitle: \"\",\r\n          headerTitle: (props) => <Header {...props} title={headerTItle} />,\r\n          headerRight: (props) => (\r\n            <Media\r\n              {...props}\r\n              media={headerMedia}\r\n              menu={this.menu}\r\n              book={this.book}\r\n              title={headerTItle}\r\n            />\r\n          ),\r\n        });\r\n      }      \r\n    } \r\n    //set tab\r\n    if (this.props.route.params) {\r\n      //console.log(\"page: \" + this.props.route.params.menu + \", \" + this.props.route.params.book + \" : \" + this.props.route.params.section);\r\n      if (\r\n        typeof this.props.route.params.menu !== \"undefined\" &&\r\n        typeof this.props.route.params.book !== \"undefined\" &&\r\n        typeof this.props.route.params.section !== \"undefined\" &&\r\n        typeof this.props.route.params.article !== \"undefined\"\r\n      ) {\r\n        this.menu = this.props.route.params.menu;\r\n        this.book = this.props.route.params.book;\r\n        this.section = this.props.route.params.section;\r\n        this.article = this.props.route.params.article;\r\n      }\r\n    } \r\n    return (\r\n      <TabBar\r\n        navigation={this.props.navigation}\r\n        menu={this.menu}\r\n        book={this.book}\r\n        section={this.section}\r\n        article={this.article}\r\n      />\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}