{"ast":null,"code":"\"use strict\";\n\nvar _jsxFileName = \"C:\\\\sites\\\\fo_expo\\\\fo\\\\node_modules\\\\react-native-modal-popover\\\\lib\\\\PopoverTouchable.js\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar PropTypes = require(\"prop-types\");\n\nvar React = require(\"react\");\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar PopoverTouchable = function (_super) {\n  __extends(PopoverTouchable, _super);\n\n  function PopoverTouchable(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onOrientationChange = function () {\n      if (_this.state.showPopover) {\n        requestAnimationFrame(_this.onPress);\n      }\n    };\n\n    _this.touchable = null;\n\n    _this.setRef = function (ref) {\n      _this.touchable = ref;\n    };\n\n    _this.onPress = function () {\n      var handle = react_native_1.findNodeHandle(_this.touchable);\n\n      if (handle) {\n        react_native_1.NativeModules.UIManager.measure(handle, _this.onTouchableMeasured);\n      }\n    };\n\n    _this.onTouchableMeasured = function (x0, y0, width, height, x, y) {\n      _this.setState({\n        showPopover: true,\n        popoverAnchor: {\n          x: x,\n          y: y,\n          width: width,\n          height: height\n        }\n      }, function () {\n        if (_this.props.onPopoverDisplayed) {\n          _this.props.onPopoverDisplayed();\n        }\n      });\n    };\n\n    _this.onClosePopover = function () {\n      return _this.setState({\n        showPopover: false\n      });\n    };\n\n    _this.state = {\n      showPopover: false,\n      popoverAnchor: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      }\n    };\n    return _this;\n  }\n\n  PopoverTouchable.prototype.componentDidMount = function () {\n    react_native_1.Dimensions.addEventListener('change', this.onOrientationChange);\n  };\n\n  PopoverTouchable.prototype.componentWillUnmount = function () {\n    react_native_1.Dimensions.removeEventListener('change', this.onOrientationChange);\n  };\n\n  PopoverTouchable.prototype.render = function () {\n    var children = React.Children.toArray(this.props.children);\n\n    if (children.length !== 2 || children[1] instanceof Number || children[1] instanceof String || children[1].type.displayName !== 'Popover') {\n      throw new Error('Popover touchable must have two children and the second one must be Popover');\n    }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, React.cloneElement(children[0], {\n      ref: this.setRef,\n      onPress: this.onPress\n    }), React.cloneElement(children[1], {\n      visible: this.state.showPopover,\n      onClose: this.onClosePopover,\n      fromRect: this.state.popoverAnchor\n    }));\n  };\n\n  PopoverTouchable.propTypes = {\n    onPopoverDisplayed: PropTypes.func\n  };\n  return PopoverTouchable;\n}(React.PureComponent);\n\nexports.PopoverTouchable = PopoverTouchable;","map":{"version":3,"sources":["../src/PopoverTouchable.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PropTypes = require(\"prop-types\");\nvar React = require(\"react\");\nvar react_native_1 = require(\"react-native\");\nvar PopoverTouchable = (function (_super) {\n    __extends(PopoverTouchable, _super);\n    function PopoverTouchable(props) {\n        var _this = _super.call(this, props) || this;\n        _this.onOrientationChange = function () {\n            if (_this.state.showPopover) {\n                requestAnimationFrame(_this.onPress);\n            }\n        };\n        _this.touchable = null;\n        _this.setRef = function (ref) {\n            _this.touchable = ref;\n        };\n        _this.onPress = function () {\n            var handle = react_native_1.findNodeHandle(_this.touchable);\n            if (handle) {\n                react_native_1.NativeModules.UIManager.measure(handle, _this.onTouchableMeasured);\n            }\n        };\n        _this.onTouchableMeasured = function (x0, y0, width, height, x, y) {\n            _this.setState({\n                showPopover: true,\n                popoverAnchor: { x: x, y: y, width: width, height: height },\n            }, function () {\n                if (_this.props.onPopoverDisplayed) {\n                    _this.props.onPopoverDisplayed();\n                }\n            });\n        };\n        _this.onClosePopover = function () { return _this.setState({ showPopover: false }); };\n        _this.state = {\n            showPopover: false,\n            popoverAnchor: { x: 0, y: 0, width: 0, height: 0 },\n        };\n        return _this;\n    }\n    PopoverTouchable.prototype.componentDidMount = function () {\n        react_native_1.Dimensions.addEventListener('change', this.onOrientationChange);\n    };\n    PopoverTouchable.prototype.componentWillUnmount = function () {\n        react_native_1.Dimensions.removeEventListener('change', this.onOrientationChange);\n    };\n    PopoverTouchable.prototype.render = function () {\n        var children = React.Children.toArray(this.props.children);\n        if (children.length !== 2 ||\n            children[1] instanceof Number ||\n            children[1] instanceof String ||\n            children[1].type.displayName !== 'Popover') {\n            throw new Error('Popover touchable must have two children and the second one must be Popover');\n        }\n        return (<React.Fragment>\n        {React.cloneElement(children[0], {\n            ref: this.setRef,\n            onPress: this.onPress,\n        })}\n        {React.cloneElement(children[1], {\n            visible: this.state.showPopover,\n            onClose: this.onClosePopover,\n            fromRect: this.state.popoverAnchor,\n        })}\n      </React.Fragment>);\n    };\n    PopoverTouchable.propTypes = {\n        onPopoverDisplayed: PropTypes.func,\n    };\n    return PopoverTouchable;\n}(React.PureComponent));\nexports.PopoverTouchable = PopoverTouchable;\n//# sourceMappingURL=PopoverTouchable.js.map"]},"metadata":{},"sourceType":"script"}